<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FantaTennis 2026</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%); color: #e0e0e0; min-height: 100vh; }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        h1 { text-align: center; color: #00ff88; font-size: clamp(2rem, 5vw, 3.5rem); margin-bottom: 10px; text-shadow: 0 0 20px #00ff88; }
        .subtitle { text-align: center; color: #88ffaa; font-size: 1.2rem; margin-bottom: 30px; }
        #tablehead { background: linear-gradient(90deg, #00aa44, #00ff88, #00aa44); }
        table { width: 100%; border-collapse: collapse; background: rgba(255,255,255,0.1); backdrop-filter: blur(20px); border-radius: 20px; overflow: hidden; box-shadow: 0 20px 60px rgba(0,255,136,0.3); }
        th, td { padding: 16px 12px; text-align: center; border-bottom: 1px solid rgba(255,255,255,0.1); }
        th { font-weight: 700; font-size: 1.1rem; color: #fff; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }
        .player-header { display: flex; flex-direction: column; align-items: center; gap: 5px; }
        .player-avatar { width: 60px; height: 60px; border-radius: 50%; object-fit: cover; border: 3px solid #00ff88; box-shadow: 0 0 20px rgba(0,255,136,0.5); }
        .player-initial { width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(135deg, #00ff88, #88ffaa); display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.8rem; color: #0f0f23; border: 3px solid #fff; box-shadow: 0 0 20px rgba(0,255,136,0.5); }
        .player-name { font-size: 0.95rem; font-weight: 600; color: #fff; margin-top: 4px; }
        .score { font-size: 1.4rem; font-weight: bold; min-width: 80px; }
        .positive { color: #00ff88; }
        .negative { color: #ff4444; }
        .total { background: linear-gradient(90deg, #00aa44, #00ff88) !important; color: #fff !important; font-size: 1.6rem !important; font-weight: 900 !important; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }
        .input-section { background: rgba(255,255,255,0.05); border-radius: 15px; padding: 20px; margin-bottom: 20px; backdrop-filter: blur(10px); border: 1px solid rgba(0,255,136,0.2); }
        input[type="text"] { width: 100%; padding: 12px 16px; border: none; border-radius: 10px; background: rgba(255,255,255,0.9); font-size: 1.1rem; margin-bottom: 10px; }
        button { background: linear-gradient(135deg, #00ff88, #00aa44); color: #0f0f23; border: none; padding: 12px 24px; border-radius: 10px; font-weight: 700; cursor: pointer; font-size: 1rem; transition: all 0.3s; box-shadow: 0 4px 15px rgba(0,255,136,0.4); }
        button:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0,255,136,0.6); }
        .row { display: flex; gap: 10px; align-items: end; }
        .row input { flex: 1; }
        .row button { flex-shrink: 0; }
        @media (max-width: 768px) { table { font-size: 0.9rem; } .player-avatar, .player-initial { width: 45px; height: 45px; font-size: 1.4rem; } th, td { padding: 12px 8px; } }
        @media (max-width: 480px) { .container { padding: 10px; } .row { flex-direction: column; gap: 10px; } }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéæ FantaTennis 2026 üéæ</h1>
        <p class="subtitle">Gestisci tornei e punteggi - Nuovo con foto giocatori!</p>
        
        <div class="input-section">
            <div class="row">
                <input id="tournamentname" placeholder="Nome torneo (Enter per aggiungere)" maxlength="30">
                <button onclick="addTournament()">Aggiungi</button>
            </div>
        </div>

        <table id="tournamenttable">
            <thead id="tablehead"></thead>
            <tbody id="tablebody"></tbody>
        </table>
    </div>

    <script>
        const players = [
            { name: 'Gennaro', photo: 'foto Gennaro.jpg' },
            { name: 'Mirko', initial: 'M' },
            { name: 'Federico', initial: 'F' },
            { name: 'Ciro', initial: 'C' },
            { name: 'Damiano', initial: 'D' },
            { name: 'Carlo', initial: 'Ca' },
            { name: 'Francesco', initial: 'Fr' },
            { name: 'Friarello', initial: 'Fri' },
            { name: 'Giuseppe', initial: 'G' },
            { name: 'Donatello', initial: 'Do' }
        ];

        let tournaments = JSON.parse(localStorage.getItem('fantatennis-tournaments')) || [];

        function getAvatar(p) {
            if (p.photo) {
                return `<img src="${p.photo}" alt="${p.name}" class="player-avatar" onerror="this.style.display='none';this.nextElementSibling.style.display='flex';">
                        <div class="player-initial" style="display:none;">${p.name.charAt(0)}</div>`;
            }
            return `<div class="player-initial">${p.initial || p.name.charAt(0)}</div>`;
        }

        function renderHead() {
            const head = document.getElementById('tablehead');
            head.innerHTML = '<tr><th>TORNEO</th>' +
                players.map(p => `<th class="player-header">${getAvatar(p)}<div class="player-name">${p.name}</div></th>`).join('') +
                '<th class="total">TOTALE</th></tr>';
        }

        function addTournament() {
            const name = document.getElementById('tournamentname').value.trim();
            if (!name) return;
            const t = { name, scores: {} };
            players.forEach(p => t.scores[p.name] = 0);
            tournaments.unshift(t);
            document.getElementById('tournamentname').value = '';
            renderTable();
            saveData();
        }

        function updateScore(tIndex, playerName, delta) {
            tournaments[tIndex].scores[playerName] = (tournaments[tIndex].scores[playerName] || 0) + delta;
            renderTable();
            saveData();
        }

        function deleteTournament(tIndex) {
            if (confirm(`Elimina "${tournaments[tIndex].name}"?`)) {
                tournaments.splice(tIndex, 1);
                renderTable();
                saveData();
            }
        }

        function renderTable() {
            const tbody = document.getElementById('tablebody');
            tbody.innerHTML = tournaments.map((t, i) => {
                const total = Object.values(t.scores).reduce((sum, s) => sum + s, 0);
                return `<tr>
                    <td style="font-weight:600; position:relative;">
                        ${t.name}
                        <button onclick="deleteTournament(${i})" style="float:right; background:#ff4444; color:white; padding:4px 8px; font-size:0.8rem; border-radius:5px; margin-left:10px;">üóëÔ∏è</button>
                    </td>
                    ${players.map(p => {
                        const score = t.scores[p.name] || 0;
                        const cls = score >= 0 ? 'positive' : 'negative';
                        return `<td><span class="score ${cls}">${score}</span></td>`;
                    }).join('')}
                    <td class="total">${total}</td>
                </tr>`;
            }).join('');
        }

        function saveData() {
            localStorage.setItem('fantatennis-tournaments', JSON.stringify(tournaments));
        }

        document.addEventListener('DOMContentLoaded', init);
        function init() {
            renderHead();
            renderTable();
        }
    </script>
</body>
</html>
